C51 COMPILER V9.60.0.0   SYSTEMCLOCK                                                       10/30/2023 23:23:22 PAGE 1   


C51 COMPILER V9.60.0.0, COMPILATION OF MODULE SYSTEMCLOCK
OBJECT MODULE PLACED IN .\OBJ\SystemClock.obj
COMPILER INVOKED BY: C:\Keil_v5\C51\BIN\C51.EXE ..\HardWareCode\SystemClock.c OPTIMIZE(8,SPEED) BROWSE INCDIR(.\UserCode
                    -;..\HardWareCode;..\UserCode) DEBUG OBJECTEXTEND PRINT(.\LST\SystemClock.lst) TABS(2) OBJECT(.\OBJ\SystemClock.obj)

line level    source

   1          
   2          
   3          
   4          #include <Intrins.h>
   5          #include <REG_MG82F6D17.h>
   6          #include ".\include\Type.h"
   7          #include ".\include\API_Macro_MG82F6D17.H"
   8          
   9          #include "SystemClock.h"
  10          #include "Delay.h"
  11          void InitClock(void)
  12          {
  13   1      #if (MCU_SYSCLK==11059200)
              #if (MCU_CPUCLK==MCU_SYSCLK)
                // SysClk=11.0592MHz CpuClk=11.0592MHz
                CLK_SetCKCON0(IHRCO_110592MHz|CPUCLK_SYSCLK_DIV_1|SYSCLK_MCKDO_DIV_1);
                
              #else
                // SysClk=11.0592MHz CpuClk=5.5296MHz
                CLK_SetCKCON0(IHRCO_110592MHz|CPUCLK_SYSCLK_DIV_2|SYSCLK_MCKDO_DIV_1);
              #endif
              #endif
  23   1      
  24   1      #if (MCU_SYSCLK==12000000)
              #if (MCU_CPUCLK==MCU_SYSCLK)
                // SysClk=12MHz CpuClk=12MHz
                CLK_SetCKCON0(IHRCO_12MHz|CPUCLK_SYSCLK_DIV_1|SYSCLK_MCKDO_DIV_1);
                
              #else
                // SysClk=12MHz CpuClk=6MHz
                CLK_SetCKCON0(IHRCO_12MHz|CPUCLK_SYSCLK_DIV_2|SYSCLK_MCKDO_DIV_1);
              #endif
              #endif
  34   1      
  35   1      #if (MCU_SYSCLK==22118400)
              #if (MCU_CPUCLK==MCU_SYSCLK)
                // SysClk=22.1184MHz CpuClk=22.1184MHz
                CLK_SetCKCON0(IHRCO_110592MHz|CPUCLK_SYSCLK_DIV_1|SYSCLK_MCKDO_DIV_1|ENABLE_CKM|CKM_OSCIN_DIV_2);
                usDelay(100);
                // IHRCO, MCK=CKMIx4, OSCin=IHRCO
                CLK_SetCKCON2(ENABLE_IHRCO|MCK_CKMI_X4|OSCIn_IHRCO);
              #else
                // SysClk=22.1184MHz CpuClk=11.0592MHz
                CLK_SetCKCON0(IHRCO_110592MHz|CPUCLK_SYSCLK_DIV_2|SYSCLK_MCKDO_DIV_1|ENABLE_CKM|CKM_OSCIN_DIV_2);
                usDelay(100);
                // IHRCO, MCK=CKMIx4, OSCin=IHRCO
                CLK_SetCKCON2(ENABLE_IHRCO|MCK_CKMI_X4|OSCIn_IHRCO);
              #endif
              #endif
  50   1      
  51   1      #if (MCU_SYSCLK==24000000)
              #if (MCU_CPUCLK==MCU_SYSCLK)
                // SysClk=24MHz CpuClk=24MHz
                CLK_SetCKCON0(IHRCO_12MHz|CPUCLK_SYSCLK_DIV_1|SYSCLK_MCKDO_DIV_1|ENABLE_CKM|CKM_OSCIN_DIV_2);
C51 COMPILER V9.60.0.0   SYSTEMCLOCK                                                       10/30/2023 23:23:22 PAGE 2   

                usDelay(100);
                // IHRCO, MCK=CKMIx4, OSCin=IHRCO
                CLK_SetCKCON2(ENABLE_IHRCO|MCK_CKMI_X4|OSCIn_IHRCO);
              #else
                // SysClk=24MHz CpuClk=12MHz
                CLK_SetCKCON0(IHRCO_12MHz|CPUCLK_SYSCLK_DIV_2|SYSCLK_MCKDO_DIV_1|ENABLE_CKM|CKM_OSCIN_DIV_2);
                usDelay(100);
                // IHRCO, MCK=CKMIx4, OSCin=IHRCO
                CLK_SetCKCON2(ENABLE_IHRCO|MCK_CKMI_X4|OSCIn_IHRCO);
              #endif
              #endif
  66   1      
  67   1      #if (MCU_SYSCLK==29491200)
              #if (MCU_CPUCLK==MCU_SYSCLK)
                // Cpuclk high speed
                CLK_SetCpuCLK_HighSpeed();
                // SysClk=29.491200MHz CpuClk=29.491200MHz
                CLK_SetCKCON0(IHRCO_110592MHz|CPUCLK_SYSCLK_DIV_1|SYSCLK_MCKDO_DIV_1|ENABLE_CKM|CKM_OSCIN_DIV_2);
                usDelay(100);
                // IHRCO, MCK=CKMIx5.33, OSCin=IHRCO
                CLK_SetCKCON2(ENABLE_IHRCO|MCK_CKMI_X533|OSCIn_IHRCO);
              #else
                // SysClk=29.491200MHz CpuClk=14.7456MHz
                CLK_SetCKCON0(IHRCO_110592MHz|CPUCLK_SYSCLK_DIV_2|SYSCLK_MCKDO_DIV_1|ENABLE_CKM|CKM_OSCIN_DIV_2);
                usDelay(100);
                // IHRCO, MCK=CKMIx5.33, OSCin=IHRCO
                CLK_SetCKCON2(ENABLE_IHRCO|MCK_CKMI_X533|OSCIn_IHRCO);
              #endif
              #endif
  84   1      
  85   1      #if (MCU_SYSCLK==32000000)
              #if (MCU_CPUCLK==MCU_SYSCLK)
                // Cpuclk high speed
                CLK_SetCpuCLK_HighSpeed();
                // SysClk=32MHz CpuClk=32MHz
                CLK_SetCKCON0(IHRCO_12MHz|CPUCLK_SYSCLK_DIV_1|SYSCLK_MCKDO_DIV_1|ENABLE_CKM|CKM_OSCIN_DIV_2);
                usDelay(100);
                // IHRCO, MCK=CKMIx5.33, OSCin=IHRCO
                CLK_SetCKCON2(ENABLE_IHRCO|MCK_CKMI_X533|OSCIn_IHRCO);
              #else
                // SysClk=32MHz CpuClk=16MHz
                CLK_SetCKCON0(IHRCO_12MHz|CPUCLK_SYSCLK_DIV_2|SYSCLK_MCKDO_DIV_1|ENABLE_CKM|CKM_OSCIN_DIV_2);
                usDelay(100);
                // IHRCO, MCK=CKMIx5.33, OSCin=IHRCO
                CLK_SetCKCON2(ENABLE_IHRCO|MCK_CKMI_X533|OSCIn_IHRCO);
              #endif
              #endif
 102   1      
 103   1      #if (MCU_SYSCLK==36000000)
              #if (MCU_CPUCLK==MCU_SYSCLK)
                // Cpuclk high speed
                CLK_SetCpuCLK_HighSpeed();
                // CKMIx6,x8,x12
                CLK_SetCKM_x6x8x12(); 
                // SysClk=36MHz CpuClk=18MHz
                CLK_SetCKCON0(IHRCO_12MHz|CPUCLK_SYSCLK_DIV_1|SYSCLK_MCKDO_DIV_1|ENABLE_CKM|CKM_OSCIN_DIV_2);
                usDelay(100);
                // IHRCO, MCK=CKMIx6, OSCin=IHRCO
                CLK_SetCKCON2(ENABLE_IHRCO|MCK_CKMI_X4_X6|OSCIn_IHRCO);
              #else
                // CKMIx6,x8,x12
                CLK_SetCKM_x6x8x12(); 
C51 COMPILER V9.60.0.0   SYSTEMCLOCK                                                       10/30/2023 23:23:22 PAGE 3   

                // SysClk=36MHz CpuClk=18MHz
                CLK_SetCKCON0(IHRCO_12MHz|CPUCLK_SYSCLK_DIV_2|SYSCLK_MCKDO_DIV_1|ENABLE_CKM|CKM_OSCIN_DIV_2);
                usDelay(100);
                // IHRCO, MCK=CKMIx6, OSCin=IHRCO
                CLK_SetCKCON2(ENABLE_IHRCO|MCK_CKMI_X4_X6|OSCIn_IHRCO);
              #endif
              #endif
 124   1      
 125   1      
 126   1      #if (MCU_SYSCLK==44236800)
                // SysClk=44.2368MHz CpuClk=22.1184MHz
                CLK_SetCKCON0(IHRCO_110592MHz|CPUCLK_SYSCLK_DIV_1|SYSCLK_MCKDO_DIV_1|ENABLE_CKM|CKM_OSCIN_DIV_2);
                usDelay(100);
                // IHRCO, MCK=CKMIx8, OSCin=IHRCO
                CLK_SetCKCON2(ENABLE_IHRCO|MCK_CKMI_X8|OSCIn_IHRCO);
              #endif
 133   1      
 134   1      #if (MCU_SYSCLK==48000000)
 135   1        // SysClk=48MHz CpuClk=24MHz
 136   1        CLK_SetCKCON0(IHRCO_12MHz|CPUCLK_SYSCLK_DIV_2|SYSCLK_MCKDO_DIV_1|ENABLE_CKM|CKM_OSCIN_DIV_2);
 137   1        usDelay(100);
 138   1        // IHRCO, MCK=CKMIx8, OSCin=IHRCO
 139   1        CLK_SetCKCON2(ENABLE_IHRCO|MCK_CKMI_X8|OSCIn_IHRCO);
 140   1      #endif
 141   1      
 142   1        // P60 Output MCK/4
 143   1        //CLK_P60OC_MCKDiv4();
 144   1      }


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =     35    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
